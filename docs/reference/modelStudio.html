<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate Interactive Studio for Explanatory Model Analysis — modelStudio • modelStudio</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../dalexverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../dalexverse-2.css" rel="stylesheet">
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Generate Interactive Studio for Explanatory Model Analysis — modelStudio" />

<meta property="og:description" content="This function computes various (instance and dataset level) model explanations and produces an interactive,
customisable dashboard made with D3.js. It consists of multiple panels for plots with their short descriptions.
Easily save and share the dashboard with others. Tools for model exploration unite with tools for EDA
(Exploratory Data Analysis) to give a broad overview of the model behavior.
Find more details about the plots in Explanatory Model Analysis: Explore, Explain and Examine Predictive Models" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- google analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-5650686-14""></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-5650686-14');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">modelStudio</a>
        <div class="info">
          <span class="partof">part of the <a href="https://github.com/ModelOriented/DrWhy">DrWhy.AI</a>
           developed by the <a href="https://mi2.mini.pw.edu.pl/">MI^2 DataLab</a> </span>
          <span class="version version-default">1.0.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignette_modelStudio.html">modelStudio - perks and features</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ModelOriented/modelStudio">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate Interactive Studio for Explanatory Model Analysis</h1>
    <small class="dont-index">Source: <a href='https://github.com/ModelOriented/modelStudio/blob/master/R/modelStudio.R'><code>R/modelStudio.R</code></a></small>
    <div class="hidden name"><code>modelStudio.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function computes various (instance and dataset level) model explanations and produces an interactive,
customisable dashboard made with D3.js. It consists of multiple panels for plots with their short descriptions.
Easily save and share the dashboard with others. Tools for model exploration unite with tools for EDA
(Exploratory Data Analysis) to give a broad overview of the model behavior.</p>
<p>Find more details about the plots in <a href='https://github.com/pbiecek/ema'>Explanatory Model Analysis: Explore, Explain and Examine Predictive Models</a></p>
    
    </div>

    <pre class="usage"><span class='fu'>modelStudio</span>(<span class='no'>explainer</span>, <span class='no'>...</span>)

<span class='co'># S3 method for explainer</span>
<span class='fu'>modelStudio</span>(
  <span class='no'>explainer</span>,
  <span class='kw'>new_observation</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>new_observation_y</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>facet_dim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>2</span>),
  <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>500</span>,
  <span class='kw'>max_features</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>N</span> <span class='kw'>=</span> <span class='fl'>400</span>,
  <span class='kw'>B</span> <span class='kw'>=</span> <span class='fl'>15</span>,
  <span class='kw'>eda</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>options</span> <span class='kw'>=</span> <span class='fu'><a href='modelStudioOptions.html'>modelStudioOptions</a></span>(),
  <span class='kw'>viewer</span> <span class='kw'>=</span> <span class='st'>"external"</span>,
  <span class='no'>...</span>
)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>explainer</th>
      <td><p>An <code>explainer</code> created with function <code><a href='https://rdrr.io/pkg/DALEX/man/explain.html'>DALEX::explain()</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other parameters.</p></td>
    </tr>
    <tr>
      <th>new_observation</th>
      <td><p>A new observation with columns that correspond to variables used in the model.</p></td>
    </tr>
    <tr>
      <th>new_observation_y</th>
      <td><p>True label for <code>new_observation</code> (optional).</p></td>
    </tr>
    <tr>
      <th>facet_dim</th>
      <td><p>Dimensions of the grid. Default is <code><a href='https://rdrr.io/r/base/c.html'>c(2,2)</a></code>.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>Time in ms. Set animation length. Default is <code>500</code>.</p></td>
    </tr>
    <tr>
      <th>max_features</th>
      <td><p>Maximum number of features to be included in Break Down and Shapley Values plots. Default is <code>10</code>.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>Number of observations used for calculation of partial dependence profiles. Default is <code>400</code>.</p></td>
    </tr>
    <tr>
      <th>B</th>
      <td><p>Number of random paths used for calculation of Shapley values. Default is <code>15</code>.</p></td>
    </tr>
    <tr>
      <th>eda</th>
      <td><p>Compute EDA plots. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>show_info</th>
      <td><p>Verbose progress on the console. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Speed up the computation using <code><a href='https://rdrr.io/pkg/parallelMap/man/parallelMap.html'>parallelMap::parallelMap()</a></code>.
See <a href='https://modeloriented.github.io/modelStudio/articles/vignette_modelStudio.html#parallel-computation'><b>vignette</b></a>.
This might interfere with showing progress using <code>show_info</code>.</p></td>
    </tr>
    <tr>
      <th>options</th>
      <td><p>Customize <code>modelStudio</code>. See <code><a href='modelStudioOptions.html'>modelStudioOptions</a></code> and
<a href='https://modeloriented.github.io/modelStudio/articles/vignette_modelStudio.html#plot-options'><b>vignette</b></a>.</p></td>
    </tr>
    <tr>
      <th>viewer</th>
      <td><p>Default is <code>external</code> to display in an external RStudio window.
Use <code>browser</code> to display in an external browser or
<code>internal</code> to use the RStudio internal viewer pane for output.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of the <code>r2d3</code> class.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Wrapper for the function is implemented in <a href='https://modeloriented.github.io/DALEX/'><b>DALEX</b></a></p></li>
<li><p>Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence plots
are implemented in <a href='https://modeloriented.github.io/ingredients/'><b>ingredients</b></a></p></li>
<li><p>Break Down and Shapley Values plots are implemented in <a href='https://modeloriented.github.io/iBreakDown/'><b>iBreakDown</b></a></p></li>
</ul>

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Python wrappers and more can be found in <a href='https://modeloriented.github.io/DALEXtra/'><b>DALEXtra</b></a></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"DALEX"</span>)</div><div class='output co'>#&gt; <span class='message'>Welcome to DALEX (version: 1.0).</span>
#&gt; <span class='message'>Find examples and detailed introduction at: https://pbiecek.github.io/ema/</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"modelStudio"</span>)

<span class='co'>#:# ex1 classification on 'titanic_imputed' dataset</span>

<span class='co'># Create a model</span>
<span class='no'>model_titanic</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span>(<span class='no'>survived</span> ~<span class='no'>.</span>,
                     <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>titanic_imputed</span>,
                     <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)

<span class='co'># Wrap it into an explainer</span>
<span class='no'>explainer_titanic</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/DALEX/man/explain.html'>explain</a></span>(<span class='no'>model_titanic</span>,
                             <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>titanic_imputed</span>[,-<span class='fl'>8</span>],
                             <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>titanic_imputed</span>[,<span class='fl'>8</span>],
                             <span class='kw'>label</span> <span class='kw'>=</span> <span class='st'>"glm"</span>,
                             <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># Pick some data points</span>
<span class='no'>new_observations</span> <span class='kw'>&lt;-</span> <span class='no'>titanic_imputed</span>[<span class='fl'>1</span>:<span class='fl'>2</span>,]
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>new_observations</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Lucas"</span>,<span class='st'>"James"</span>)

<span class='co'># Make a studio for the model</span>
<span class='fu'>modelStudio</span>(<span class='no'>explainer_titanic</span>, <span class='no'>new_observations</span>,
            <span class='kw'>N</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>B</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># \donttest{</span>

<span class='co'>#:# ex2 regression on 'apartments' dataset</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"randomForest"</span>)</div><div class='output co'>#&gt; <span class='message'>randomForest 4.6-14</span></div><div class='output co'>#&gt; <span class='message'>Type rfNews() to see new features/changes/bug fixes.</span></div><div class='input'>
<span class='no'>model_apartments</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/randomForest/man/randomForest.html'>randomForest</a></span>(<span class='no'>m2.price</span> ~<span class='no'>.</span> ,<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>apartments</span>)

<span class='no'>explainer_apartments</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/DALEX/man/explain.html'>explain</a></span>(<span class='no'>model_apartments</span>,
                                <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>apartments</span>[,-<span class='fl'>1</span>],
                                <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>apartments</span>[,<span class='fl'>1</span>],
                                <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='no'>new_apartments</span> <span class='kw'>&lt;-</span> <span class='no'>apartments</span>[<span class='fl'>1</span>:<span class='fl'>2</span>,]
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>new_apartments</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ap1"</span>,<span class='st'>"ap2"</span>)

<span class='co'># change dashboard dimensions and animation length</span>
<span class='fu'>modelStudio</span>(<span class='no'>explainer_apartments</span>, <span class='no'>new_apartments</span>,
            <span class='kw'>facet_dim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>3</span>), <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>800</span>,
            <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># add information about true labels</span>
<span class='fu'>modelStudio</span>(<span class='no'>explainer_apartments</span>, <span class='no'>new_apartments</span>,
                                <span class='kw'>new_observation_y</span> <span class='kw'>=</span> <span class='no'>apartments</span>[<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='fl'>1</span>],
                                <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># don't compute EDA plots</span>
<span class='fu'>modelStudio</span>(<span class='no'>explainer_apartments</span>, <span class='kw'>eda</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
            <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)


<span class='co'>#:# ex3 xgboost model on 'HR' dataset</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='st'>"xgboost"</span>)

<span class='no'>model_matrix</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></span>(<span class='no'>status</span> <span class='kw'>==</span> <span class='st'>"fired"</span> ~ <span class='no'>.</span> -<span class='fl'>1</span>, <span class='no'>HR</span>)
<span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/xgboost/man/xgb.DMatrix.html'>xgb.DMatrix</a></span>(<span class='no'>model_matrix</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>HR</span>$<span class='no'>status</span> <span class='kw'>==</span> <span class='st'>"fired"</span>)

<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>nthread</span> <span class='kw'>=</span> <span class='fl'>2</span>,
               <span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>eval_metric</span> <span class='kw'>=</span> <span class='st'>"auc"</span>)

<span class='no'>model_HR</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/xgboost/man/xgb.train.html'>xgb.train</a></span>(<span class='no'>params</span>, <span class='no'>data</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>50</span>)

<span class='no'>explainer_HR</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/DALEX/man/explain.html'>explain</a></span>(<span class='no'>model_HR</span>,
                        <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>model_matrix</span>,
                        <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>HR</span>$<span class='no'>status</span> <span class='kw'>==</span> <span class='st'>"fired"</span>,
                        <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>modelStudio</span>(<span class='no'>explainer_HR</span>, <span class='kw'>show_info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># }</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="author">
  <p>
    Developed by Hubert Baniecki, Przemyslaw Biecek.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


